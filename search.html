searchBox.addEventListener("input", function() {
  const query = this.value.trim().toLowerCase();
  resultsDiv.innerHTML = "";

  if(query === "") {
    resultsDiv.innerHTML = "<p>Type a keyword above to search PDFs.</p>";
    return;
  }

  // match file name OR folder names
  const matches = files.filter(f => 
    f.title.toLowerCase().includes(query) ||
    f.folders.toLowerCase().includes(query)
  );

  if(matches.length === 0) {
    resultsDiv.innerHTML = "<p>No results found.</p>";
    return;
  }

  matches.forEach(f => {
    const div = document.createElement("div");
    div.className = "result-item";
    div.innerHTML = `<a href="${f.url}" target="_blank">${f.title}</a> <span class="file-type">[${f.type}]</span> <span class="file-type">(${f.folders})</span>`;
    resultsDiv.appendChild(div);
  });
});
