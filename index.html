<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Colleges of Education Past Questions | SCode Studio | SCode COE Pasco</title>
  <meta name="1192659b3424e689b6df71ec679049b3b1cb6564" content="1192659b3424e689b6df71ec679049b3b1cb6564" />
  <link rel="icon" type="image/jpeg" href="https://raw.githubusercontent.com/SCodeGit/trial/main/favicon%20scode.jpg">
  <link rel="shortcut icon" type="image/jpeg" href="https://raw.githubusercontent.com/SCodeGit/trial/main/favicon%20scode.jpg">
  <meta name="description" content="Free Colleges of Education past questions for all universities in Ghana. Filter by level, semester, and program. Official platform of SCode Studio and SCode COE Pasco. Created by Atubra Abraham.">
  <meta name="author" content="Atubra Abraham — SCode Studio">
  <meta http-equiv="X-Content-Type-Options" content="nosniff">
  <meta http-equiv="X-Frame-Options" content="DENY">
  <meta http-equiv="Referrer-Policy" content="no-referrer">

  <style>
    :root{
      --navy: #0a1f44;
      --white: #ffffff;
      --accent: #1e3a8a;
      --muted: #f3f6fb;
      --shadow: rgba(10,31,68,0.12);
      --success: #0f9d58;
      --error: #d9534f;
    }
    *{box-sizing:border-box;margin:0;padding:0}
    body{
      font-family: 'Segoe UI', Arial, sans-serif;
      background: var(--muted);
      color: var(--navy);
      padding: 18px;
    }

    /* Top bar */
    .top-bar{ display:flex; align-items:center; gap:18px; max-width:1100px; margin:0 auto 18px; padding:8px 12px; }
    .top-logos{ display:flex; gap:14px; align-items:center; flex:1 1 auto; }
    .top-logos img{ width:58px; height:58px; border-radius:50%; object-fit:cover; border:2px solid var(--navy); background:var(--white) }

    #theme-toggle{ background:transparent; border:none; font-size:1.2rem; color:var(--navy); cursor:pointer; padding:6px 8px; }

    .frame { max-width:980px; margin:18px auto; background:var(--white); border-radius:14px; border:6px solid var(--navy); box-shadow:0 14px 30px var(--shadow); overflow:hidden; }
    .frame-inner { padding:26px; }
    h1{ text-align:center; margin-top:8px; color:var(--navy); font-size:1.55rem; font-weight:600; }
    .tagline{ text-align:center; color:#0f335f; margin:10px 0 18px; font-style:italic; }

    .controls { display:block; width:100%; max-width:760px; margin:0 auto; gap:10px; }
    .controls > *{ display:block; width:100%; margin:8px 0; }
    select, input[type="text"], button{ padding:10px 12px; border-radius:10px; border:1px solid #cbd9f0; font-size:0.98rem; background:#fff; color:var(--navy); }
    select:hover, button:hover, input[type="text"]:hover{ box-shadow:0 6px 18px rgba(30,58,138,0.06); transform:translateY(-1px); }

    /* PDF list */
    .pdf-list { margin-top:12px; min-height:80px; }
    .pdf-item { margin:8px 0; display:flex; gap:8px; align-items:center; }
    .pdf-item a { display:block; color:var(--navy); text-decoration:none; padding:8px 12px; border-radius:8px; border:1px solid #cbd9f0; transition:all .2s; }
    .pdf-item a:hover{ background:var(--accent); color:var(--white); transform:translateX(2px); }

    /* messages & loading */
    .msg-info{ padding:14px; background:#eef8ff; border-radius:8px; border:1px solid #cbe8ff; color:#034e7b; }
    .msg-error{ padding:14px; background:#ffecec; border-radius:8px; border:1px solid #f5c2c2; color:var(--error); }
    .msg-success{ padding:14px; background:#e9f7ef; border-radius:8px; border:1px solid #c8efcf; color:var(--success); }

    .loading-spinner {
      width:36px; height:36px; border-radius:50%; border:4px solid rgba(0,0,0,0.08); border-top-color:var(--accent); animation:spin .9s linear infinite; margin:0 auto 8px auto;
    }
    @keyframes spin{ to{ transform:rotate(360deg) } }

    /* Recent panel */
    .recent { margin-top:12px; font-size:0.9rem; color:#334; }
    .recent ul { list-style:none; padding-left:0 }
    .recent li { padding:6px 8px; border-radius:6px; background:#f6f9fc; margin:6px 0; }

    /* SC Tools hub */
    #scToolsHub { position: fixed; bottom: 20px; right: 20px; width: 260px; z-index: 9999; font-family: Arial, sans-serif; }
    #scToggle { background: linear-gradient(180deg,#21438b,#15264a); color:#fff; width:56px; height:56px; border-radius:50%; text-align:center; line-height:56px; cursor:pointer; font-weight:700; font-size:18px; box-shadow:0 6px 18px rgba(0,0,0,0.25); }
    #scContent { display:none; background:#fff; border:1px solid #d6e0f2; border-radius:12px; box-shadow:0 8px 26px rgba(10,31,68,0.18); padding:12px; margin-top:10px; }
    #scContent h4{ margin:0 0 8px 0; text-align:center; color:var(--navy) }
    #scContent select, #scContent input[type="file"], #scContent button { width:100%; margin-bottom:8px; padding:8px; border-radius:8px; border:1px solid #cfd9ee; }
    #scContent button { background:linear-gradient(180deg,#1e3a8a,#0a254f); color:#fff; cursor:pointer; border:none; }
    #scContent button:hover{ opacity:0.95; }
    .sc-instructions { background:rgba(30,58,138,0.05); padding:8px; border-radius:8px; font-size:0.86rem; margin-bottom:8px; }
    .sc-instructions .toggle-small { cursor:pointer; color:var(--accent); text-decoration:underline; display:inline-block; margin-top:6px; font-size:0.82rem; }
    .sc-sitepdf-note { font-size:0.85rem; color:#375; margin-bottom:6px; }

    /* responsive */
    @media (max-width:720px){ #scToolsHub { right:12px; bottom:12px; width:220px } .top-logos img{ width:48px;height:48px } .frame-inner{ padding:18px } }
  </style>
</head>
<body>

  <div class="top-bar">
    <div class="top-logos">
      <img src="https://raw.githubusercontent.com/SCodeGit/trial/main/WhatsApp%20Image%202025-10-29%20at%2021.28.30_968e228b.jpg" alt="School Collaboration Logo">
      <img src="https://raw.githubusercontent.com/SCodeGit/trial/main/WhatsApp%20Image%202025-10-29%20at%2021.29.26_b1bcd9d3.jpg" alt="Colleges Group Logo">
      <img src="https://raw.githubusercontent.com/SCodeGit/trial/main/WhatsApp%20Image%202025-10-29%20at%2021.31.34_5c11e8e8.jpg" alt="SCode Studio Logo">
    </div>
    <button id="theme-toggle" title="Toggle theme" aria-label="Toggle theme">☀️</button>
  </div>

  <h1>Colleges of Education Past Questions</h1>
  <p class="tagline">Empowering Learning Through Past Questions</p>

  <div class="frame">
    <div class="frame-inner">

      <div class="instructions-container" style="text-align:center;margin-bottom:12px;">
        <button class="instructions-toggle" onclick="toggleInstructions()" style="background:transparent;color:#00b3ff;border:1px solid #00b3ff;border-radius:8px;padding:10px 20px;cursor:pointer;">
          View Instructions For Trainees
        </button>
        <div class="instructions-content" id="instructionsBox" style="display:none;margin-top:15px;background:rgba(0,10,30,0.9);color:#d6f1ff;border-radius:10px;padding:14px;">
          <p><strong>Welcome Trainees!</strong> Here’s how to navigate this platform:</p>
          <ul style="list-style:none;text-align:left;padding-left:0;margin-top:10px;">
            <li>Select your <strong>university, level, semester, and program</strong> to view available PDFs.</li>
            <li>Click a file name in the main list to <strong>download</strong> it (main list). Use <strong>SC Tools → Site PDFs</strong> to open PDFs in a new tab for comparing.</li>
          </ul>
        </div>
      </div>

      <div class="controls">
        <select id="university"><option value="">Select University</option></select>
        <select id="level" disabled><option value="">Select Level</option></select>
        <select id="semester" disabled><option value="">Select Semester</option></select>
        <select id="program" disabled><option value="">Select Program</option></select>

        <div style="display:flex; gap:8px;">
          <button id="searchBtn" style="flex:1">Search PDFs</button>
          <input id="searchInput" type="text" placeholder="Filter by name..." style="flex:2; padding:10px; border-radius:10px; border:1px solid #cbd9f0;">
          <button id="searchNameBtn">Filter</button>
        </div>
      </div>

      <div id="pdf-list" class="pdf-list">
        <!-- PDFs or messages appear here -->
      </div>

      <div class="recent" id="recentPanel" style="display:none;">
        <strong>Recently opened:</strong>
        <ul id="recentList"></ul>
      </div>

    </div>
  </div>

  <footer style="text-align:center;margin-top:18px;color:#374761;font-size:0.9rem;">
    &copy; 2025 SCode. All rights reserved.
  </footer>

  <!-- SC Tools Floating Hub -->
  <div id="scToolsHub" aria-hidden="false">
    <div id="scToggle" title="Open SC Tools">SC</div>
    <div id="scContent" role="dialog" aria-label="SC Tools Hub" aria-hidden="true">
        <h4>SC Tools Hub</h4>

        <!-- Instructions (collapsible) -->
        <div class="sc-instructions">
            <div id="scInsShort">
              <strong>Quick:</strong> Open an AI or open PDFs (site or upload).
              <div class="sc-instructions-link" style="margin-top:6px;">
                <span class="toggle-small" id="scInsToggle">Show more instructions</span>
              </div>
            </div>
            <div id="scInsFull" style="display:none; margin-top:8px;">
              <ul style="padding-left:14px; margin:0;">
                <li>Select an AI and click <em>Go</em> to open it in a new tab.</li>
                <li>Use <strong>Site PDFs</strong> to open PDFs from the program you selected above (no download — opens in new tab for comparison).</li>
                <li>Or upload a PDF from your device to open it temporarily in a new tab.</li>
              </ul>
            </div>
        </div>

        <!-- AI Selector -->
        <label for="scAI">Select AI:</label>
        <select id="scAI">
            <option value="">--Choose AI--</option>
            <option value="chatgpt">ChatGPT</option>
            <option value="copilot">Copilot</option>
            <option value="deepseek">DeepSeek</option>
            <option value="questionai">Question AI</option>
        </select>
        <button id="scOpenAI">Go</button>

        <!-- PDF Selector / Upload -->
        <div style="margin-top:6px;" class="sc-sitepdf-note">Site PDFs follow the main dropdown selections (choose program then press Search).</div>
        <label for="scPDF">Site PDFs (program)</label>
        <select id="scPDF">
            <option value="">--No PDFs loaded--</option>
        </select>

        <label for="scPDFInput" style="margin-top:6px;">Upload PDF (device)</label>
        <input type="file" id="scPDFInput" accept=".pdf">

        <button id="scOpenPDF">Open PDF</button>
    </div>
  </div>

  <script>
  /***********************
   *  CONFIG & DOM refs
   ***********************/
  const config = { mode: "single", singleRepo: { owner: "SCodeGit", repo: "trial", branch: "main" } };

  const universitySel = document.getElementById("university");
  const levelSel = document.getElementById("level");
  const semSel = document.getElementById("semester");
  const progSel = document.getElementById("program");
  const pdfList = document.getElementById("pdf-list");
  const searchBtn = document.getElementById("searchBtn");
  const searchInput = document.getElementById("searchInput");
  const searchNameBtn = document.getElementById("searchNameBtn");
  const recentPanel = document.getElementById("recentPanel");
  const recentList = document.getElementById("recentList");

  // SC Tools refs
  const scToggle = document.getElementById("scToggle");
  const scContent = document.getElementById("scContent");
  const scInsToggle = document.getElementById("scInsToggle");
  const scInsFull = document.getElementById("scInsFull");
  const scPDFSelect = document.getElementById("scPDF");
  const scPDFInput = document.getElementById("scPDFInput");
  const scOpenPDFBtn = document.getElementById("scOpenPDF");
  const scAISelect = document.getElementById("scAI");
  const scOpenAIBtn = document.getElementById("scOpenAI");

  let loadedPDFs = [];      // current program PDFs (objects from GitHub)
  let cachedFolders = {};   // cache by URL
  let recentOpened = [];    // names (strings) for recently opened

  /***********************
   *  Helper UI functions
   ***********************/
  function showMessage(msg, type="info") {
    const cls = type === "error" ? "msg-error" : (type === "success" ? "msg-success" : "msg-info");
    pdfList.innerHTML = `<div class="${cls}">${msg}</div>`;
  }
  function showLoading(msg="Loading…") {
    pdfList.innerHTML = `<div style="text-align:center"><div class="loading-spinner"></div><p>${msg}</p></div>`;
  }

  function updateRecentUI() {
    if (recentOpened.length === 0) {
      recentPanel.style.display = "none";
      return;
    }
    recentPanel.style.display = "block";
    recentList.innerHTML = recentOpened.map(n => `<li>${n}</li>`).join("");
  }

  /***********************
   *  GitHub fetch + caching
   ***********************/
  async function fetchFolder(url, branch=config.singleRepo.branch) {
    const fullUrl = url.includes("?") ? url : `${url}?ref=${branch}`;
    if (cachedFolders[fullUrl]) return cachedFolders[fullUrl];
    try {
      const res = await fetch(fullUrl);
      if (!res.ok) return [];
      const data = await res.json();
      cachedFolders[fullUrl] = data;
      return data;
    } catch (e) {
      console.error("Fetch folder error", e);
      return [];
    }
  }

  function populateDropdown(dropdown, items) {
    // keep first option label and append directories
    dropdown.innerHTML = `<option value="">Select ${dropdown.id.charAt(0).toUpperCase() + dropdown.id.slice(1)}</option>`;
    items.forEach(i => {
      if (i.type === "dir") {
        const opt = document.createElement("option");
        opt.value = i.path;
        opt.textContent = i.name;
        dropdown.appendChild(opt);
      }
    });
    dropdown.disabled = false;
  }

  function resetDropdowns(...dropdowns) {
    dropdowns.forEach(d => {
      d.innerHTML = `<option value="">Select ${d.id.charAt(0).toUpperCase() + d.id.slice(1)}</option>`;
      d.disabled = true;
    });
    pdfList.innerHTML = "";
    loadedPDFs = [];
    populateSCSiteSelector([]); // clear SC site selector too
  }

  /***********************
   *  Display PDFs (main)
   ***********************/
  function displayPDFs(pdfs) {
    if (!Array.isArray(pdfs) || pdfs.length === 0) {
      showMessage("No PDF files found.", "error");
      populateSCSiteSelector([]); // clear sc selector
      return;
    }

    pdfList.innerHTML = "";
    const adLink = "https://elaboratestrain.com/bD3wVd0/P.3np/v/btm/VAJdZ/D-0v2oNizeE/x/NFj/gI4wLJTWY-3FMETsEo2mOBDNkE";

    pdfs.forEach(f => {
      const rawURL = `https://raw.githubusercontent.com/${config.singleRepo.owner}/${config.singleRepo.repo}/${config.singleRepo.branch}/${f.path}`;
      const div = document.createElement("div");
      div.className = "pdf-item";
      // main list: link with download attribute (preserve original download behavior)
      div.innerHTML = `<a href="${rawURL}" download class="pdf-main-link" data-path="${f.path}">${f.name}</a>`;
      pdfList.appendChild(div);
    });

    // attach behavior: open ad and record recent
    document.querySelectorAll(".pdf-main-link").forEach(link => {
      if (!link.dataset.initialized) {
        link.dataset.initialized = "1";
        link.addEventListener("click", (e) => {
          // open ad in new tab (as original code did)
          window.open(adLink, "_blank");
          // record recent (name)
          const name = link.textContent;
          if (!recentOpened.includes(name)) recentOpened.unshift(name);
          if (recentOpened.length > 10) recentOpened.pop();
          updateRecentUI();
          // let the download proceed (do not preventDefault)
        });
      }
    });

    // Populate SC Tools site-PDF selector so user can open (not download) for comparison
    populateSCSiteSelector(pdfs);
  }

  /***********************
   *  SC Tools: site PDF selector
   ***********************/
  function populateSCSiteSelector(pdfs) {
    scPDFSelect.innerHTML = `<option value="">--Site PDFs--</option>`;
    if (!pdfs || pdfs.length === 0) {
      scPDFSelect.innerHTML = `<option value="">--No PDFs loaded--</option>`;
      return;
    }
    pdfs.forEach(f => {
      const rawURL = `https://raw.githubusercontent.com/${config.singleRepo.owner}/${config.singleRepo.repo}/${config.singleRepo.branch}/${f.path}`;
      const opt = document.createElement("option");
      opt.value = rawURL;
      opt.textContent = f.name;
      scPDFSelect.appendChild(opt);
    });
  }

  /***********************
   *  Load universities on page load
   ***********************/
  (async () => {
    const baseURL = `https://api.github.com/repos/${config.singleRepo.owner}/${config.singleRepo.repo}/contents/`;
    showLoading("Loading universities...");
    const universities = await fetchFolder(baseURL);
    if (!universities || universities.length === 0) {
      showMessage("Unable to load universities (check repo settings or rate limits).", "error");
      return;
    }
    populateDropdown(universitySel, universities);
    pdfList.innerHTML = "";
  })();

  /***********************
   *  Dropdown event listeners
   ***********************/
  universitySel.addEventListener("change", async () => {
    resetDropdowns(levelSel, semSel, progSel);
    if (!universitySel.value) return;
    showLoading("Loading levels...");
    const levels = await fetchFolder(`https://api.github.com/repos/${config.singleRepo.owner}/${config.singleRepo.repo}/contents/${universitySel.value}`);
    populateDropdown(levelSel, levels);
    pdfList.innerHTML = "";
  });

  levelSel.addEventListener("change", async () => {
    resetDropdowns(semSel, progSel);
    if (!levelSel.value) return;
    showLoading("Loading semesters...");
    const sems = await fetchFolder(`https://api.github.com/repos/${config.singleRepo.owner}/${config.singleRepo.repo}/contents/${levelSel.value}`);
    populateDropdown(semSel, sems);
    pdfList.innerHTML = "";
  });

  semSel.addEventListener("change", async () => {
    resetDropdowns(progSel);
    if (!semSel.value) return;
    showLoading("Loading programs...");
    const programs = await fetchFolder(`https://api.github.com/repos/${config.singleRepo.owner}/${config.singleRepo.repo}/contents/${semSel.value}`);
    populateDropdown(progSel, programs);
    pdfList.innerHTML = "";
  });

  /***********************
   *  Load PDFs for selected program
   ***********************/
  async function loadPDFsForProgram() {
    if (!progSel.value) return [];
    const files = await fetchFolder(`https://api.github.com/repos/${config.singleRepo.owner}/${config.singleRepo.repo}/contents/${progSel.value}`);
    const pdfs = files.filter(f => f.name.toLowerCase().endsWith(".pdf"));
    return pdfs;
  }

  /***********************
   *  Search / filter buttons
   ***********************/
  searchBtn.addEventListener("click", async () => {
    if (!progSel.value) {
      showMessage("Please select a program first.", "error");
      return;
    }
    showLoading("Loading PDFs for program...");
    loadedPDFs = await loadPDFsForProgram();
    displayPDFs(loadedPDFs);
  });

  searchNameBtn.addEventListener("click", async () => {
    if (!progSel.value) {
      showMessage("Please select a program first.", "error");
      return;
    }
    if (loadedPDFs.length === 0) loadedPDFs = await loadPDFsForProgram();
    const q = (searchInput.value || "").toLowerCase().trim();
    const filtered = q ? loadedPDFs.filter(f => f.name.toLowerCase().includes(q)) : loadedPDFs;
    displayPDFs(filtered);
  });

  /***********************
   *  SC Tools interactions
   ***********************/
  // toggle hub open/close
  scToggle.addEventListener("click", () => {
    const isOpen = scContent.style.display === "block";
    scContent.style.display = isOpen ? "none" : "block";
    scContent.setAttribute("aria-hidden", isOpen ? "true" : "false");
  });

  // toggle instructions inside hub
  scInsToggle.addEventListener("click", () => {
    const show = scInsFull.style.display === "block";
    scInsFull.style.display = show ? "none" : "block";
    scInsToggle.textContent = show ? "Show more instructions" : "Hide instructions";
  });

  // Open selected AI (updated Copilot URL)
  scOpenAIBtn.addEventListener("click", () => {
    const ai = scAISelect.value;
    if(!ai){ alert("Please select an AI!"); return; }
    let url = "";
    switch(ai){
      case 'chatgpt': url="https://chat.openai.com/"; break;
      case 'copilot': url="https://copilot.microsoft.com/"; break;
      case 'deepseek': url="https://deepseek.ai/"; break;
      case 'questionai': url="https://questionai.com/"; break;
    }
    window.open(url, "_blank");
  });

  // SC: Open selected site PDF (open only; no download)
  scOpenPDFBtn.addEventListener("click", () => {
    const siteUrl = scPDFSelect.value;
    const upload = scPDFInput.files[0];
    if (upload) {
      const url = URL.createObjectURL(upload);
      window.open(url, "_blank");
      // record recent
      if (!recentOpened.includes(upload.name)) recentOpened.unshift(upload.name);
      if (recentOpened.length > 10) recentOpened.pop();
      updateRecentUI();
      return;
    }
    if (siteUrl) {
      window.open(siteUrl, "_blank");
      // the option text is the file name
      const name = scPDFSelect.options[scPDFSelect.selectedIndex].text;
      if (!recentOpened.includes(name)) recentOpened.unshift(name);
      if (recentOpened.length > 10) recentOpened.pop();
      updateRecentUI();
      return;
    }
    // show user-friendly message
    alert("Please choose a site PDF or upload a PDF to open.");
  });

  /***********************
   *  Extras: ensure SC site selector updates when main results update
   ***********************/
  // When displayPDFs runs it calls populateSCSiteSelector internally,
  // but also update when loadedPDFs variable is set from elsewhere:
  // (We already call populateSCSiteSelector inside displayPDFs and resetDropdowns.)

  // initial UI state
  updateRecentUI();

  </script>
</body>
</html>
